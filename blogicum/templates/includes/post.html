{% load static %}
{% with request.resolver_match.view_name as view_name %}

<article>
  <ul>
    <li>
      Место: {{ post.location }}              
    </li>
    <li>
      Дата: {{ post.date }}
    </li>
    <li>
      Категория: <a href="{% url 'blog:category_posts' post.category %}">{{ post.category }}</a>
    </li>
  </ul>          
  <p>
    {% if view_name == 'blog:index' or view_name == 'blog:category_posts' %}
        {{ post.text|truncatewords:10 }}
    {% else %}
        {{ post.text }}
    {% endif %}
  </p>
  <a href="{% url 'blog:post_detail' post.id %}">Читать полный текст</a>
</article>

{% endwith %}